{
  
    
        "post0": {
            "title": "nbdev on gitlab",
            "content": "fast.ai recently released version 2 of their popular nbdev toolkit. nbdev is a set of tools that enable you to write, test, document, and distribute software packages and technical articles all in one place - the jupyter notebook. Version two, like version one, is designed with integration into the github.com ecosystem therefore making it a little more difficult to use in other similar ecosystems. Where I work we run an internal gitlab.com system and are unable to use the github features of nbdev. So, for the last year or so I have been using a modified nbdev v1 system that i hacked together to work on the gitlab ecosystem and now with the recent update to version 2 I have set out to do the same again. This time i thought i&#39;d share what i did and learnt along the way. . What . The image below from nbdev.fast.ai shows the basic layout of the nbdev ecosystem: . . From this image we can see that the key things that deal with github are the CI for testing and the CD for document build and deploy using quarto on github pages. Luckily for us gitlab has equivelant functionality and so we will be able to replicate most of the nbdev v2 functionality in gitlab. . Therefore our todo list is quite short: . TODO list: . convert github actions to gitlab ci | party üéâü•≥üéâ | . How . Docker image . gitlab CI/CD is configured in a similar way to github actions in that there is a config file that lives in your repo to tell the runner what to do and when to do it. The config file detail what os/environment to use to run your code in. In the official nbdev case they use the latest build of ubuntu and in my case I use a continuumio/miniconda3 build as my base. nbdev use this image base to install the latest versions of everything on the fly during every actions run but as i have a shared and quite slow runner at work I tend to use a pre-build container with the latest nbdev and quarto already installed and ready to go. . Feel free to use my container yourself if you like: https://hub.docker.com/r/robtheoceanographer/nbdev2 . gitlab CI/CD config file . Now that we have the basic image ready to use we now need to write our config file. The language used for gitlab ci/cd is yaml and my basic set up is shown below: . image: robtheoceanographer/nbdev2:latest # Cache modules in between jobs cache: key: $CI_COMMIT_REF_SLUG clean: stage: build script: - echo &quot;Check we are starting with clean git checkout&quot; - if [ -n &quot;$(git status -uno -s)&quot; ]; then echo &quot;git status is not clean&quot;; false; fi - echo &quot;Trying to strip out notebooks&quot; - nbdev_clean - echo &quot;Check that strip out was unnecessary&quot; - git status -s # display the status to see which nbs need cleaning up - if [ -n &quot;$(git status -uno -s)&quot; ]; then echo -e &quot;!!! Detected unstripped out notebooks n!!!Remember to run nbdev_install_hooks&quot;; false; fi test: stage: test script: - echo &quot;Doing the testing here...&quot; - nbdev_install - nbdev_test pages: stage: deploy script: - pwd - nbdev_install - nbdev_docs - cp -r _docs/ public/ - ls artifacts: paths: - public . Now this is a first cut gitlab-ci.yml and there&#39;s definately more to do and change here... for example, i haven&#39;t set up good caching or sharing of builds and so things get built multiple times... feel free to contribute it you like. . This config will replicate most of what is being doing in the github actions of nbdev on github. . settings.ini . Because they nbdev ecosystem is expecting you to push your code to github it has a few pre-filled github things in the settings.ini that we need to tweak. The main things to change are the host and git_url sections. . Here is an example of my template setting.ini file for you to see the difference: . [DEFAULT] # All sections below are required unless otherwise specified # see https://github.com/fastai/nbdev/blob/master/settings.ini for original host = gitlab lib_name = nbdev2_template description = a clone of nbdev v2 to gitlab. copyright = this is all thanks to fastai keywords = fastai nbdev user = robtheoceanographer author = Robert Johnson author_email = example@gmail.com repo = nbdev2_template branch = main version = 0.0.1 min_python = 3.9 audience = Developers language = English custom_sidebar = False license = None status = 2 nbs_path = nbs doc_path = _docs recursive = False tst_flags = notest ### Inferred From Other Values but tailored for gitlab ### doc_host = / doc_baseurl = /%(lib_name)s/ git_url = https://gitlab.com/%(user)s/%(lib_name)s/tree/%(branch)s/ lib_path = %(lib_name)s title = %(lib_name)s ### OPTIONAL ### see https://github.com/fastai/nbdev/blob/master/settings.ini for examples # requirements = fastcore pandas # dev_requirements = # console_scripts = . Example gitlab repo . So, to bring all of this together i made an example repo on gitlab.com that you can look at and copy if your find it helpful. . This is the repo: https://gitlab.com/robtheoceanographer/nbdev2_template . . . This is the rendered quarto docs: https://robtheoceanographer.gitlab.io/nbdev2_template/ . . . Issues . Of course, there are a bunch of things that don&#39;t work when we move to gitlab. The two things that spring to mind are: . nbdev_deploy: Deploy docs to GitHub Pages | nbdev_ghp_deploy: Deploy docs in doc_path from settings.ini to GitHub Pages | . I recommend using the official github version and benefiting from all the functionality there rather than rolling your own on gitlab or elsewhere. This whole posit was just to show that it can be done. Well, that is my brain dump of what i&#39;ve done so far and i&#39;m sure i haven&#39;t covered everything so feel free to reach out and ask me questions if you like: https://twitter.com/JohnsonRob .",
            "url": "https://robtheoceanographer.com/gitlab-nbdev.html",
            "relUrl": "/gitlab-nbdev.html",
            "date": " ‚Ä¢ Aug 8, 2022"
        }
        
    
  
    
        ,"post1": {
            "title": "PyDuct - a Data Engineering pipeline in Python",
            "content": "In Data Science or Data Engineering you constantly hear term ‚Äúdata pipeline‚Äù. But there are so many meanings to this term and people often are refering to very specific tools or packages depending on their own background/needs. There are pipelines for pretty much everything and in Python alone I can think of Luigi, Airflow, scikit-learn pipelines, and Pandas pipes just off the top of my head - this article does a good job of helping you understand what is out there. . It can be quite confusing especially if you want a simple and agnostic pipeline that you can customize for your specific needs with no bells and whistles or lock-ins to libraries etc. That is where PyDuct comes in. It is for the data engineer who just wants to get stuff done in an ordered and repeatable way. . PyDuct is a simple data pipeline that automates a chain of transformations performed on some data. . PyDuct data pipelines are a great way of introducing automation, reproducibility, structure, and flow to your data engineering projects. . What is it? . The PyDuct transformation pipelines use user defined transformation functions linked together into a TransformationPipe. The key feature of PyDuct is that the datasource passed in can be almost anything that you desire - e.g. a pandas dataframe, a geopandas dataframe, and iris datacube, a numppy array, so long as your transformation steps read and write the same object PyDuct will work for you. . . Where to find out more: . PyPi Package: https://pypi.org/project/pyduct/0.0.1/ . GitHub Repo: https://github.com/RobTheOceanographer/pyduct . Docs: https://robtheoceanographer.github.io/pyduct/ . . PyDuct was made by Robert Johnson and Alexander Kozlov and Mohammadreza Khanarmuei .",
            "url": "https://robtheoceanographer.com/PyDuct.html",
            "relUrl": "/PyDuct.html",
            "date": " ‚Ä¢ May 14, 2022"
        }
        
    
  
    
        ,"post2": {
            "title": "FastCloud - the app",
            "content": "I am currently a student in the fast.ai practical deep learnign for coders v5 class and after the first week I built a cloud type classifier called FastClouds - which you can read about here . After the second and third lesson I have implemented some of the things Jeremy discussed and worked through and that is what I have to show you in this post. . Model Refinement . In lesson 2 of https://course.fast.ai/ v5 data cleaning and data augmentation was discussed. Data cleaning turned out to be a big part of making FastClouds perform better as the images i scraped from duckduckgo for clouds turned out to be quite messy and unreliably classified... unsurprising really. Once i&#39;d cleaned up my image data set my model went from ~75% accurate to ~81% accurate. . This is the training with raw data: . . This is the training with cleaned up data: . . Data augmentation using the fastai DataBlock was super simple to implement. I just added the batch_tfms=aug_transforms() line to my DataBlock definition and fastai took care of the rest for me. Data augmentation did add a bit of skill to the model - we went from ~81% to ~85% - but i suspect that this is because the input images are already quite varied and so augmentation didn&#39;t add that much more information for the model to learn. This is a batch of augmented images and they look very similar to the original images: . . Final performance . In the end we have a model that is about ~85% accurate using pretty much out of the box fastai methods and using a very small dataset - the final version only used 50 images from each category. As far as I know there is no other model out there that can classify clouds from images with this accuracy. . For reference, the notebook used is here: Kaggle Notebook and here GitHub Repo . TROPS . Now that we have a model i&#39;d like to be able to make it &#39;operational&#39; and available for people to use. The Transition to Operations (TROPS) using huggingface and gradio was discussed in lesson 2 and that is what i have used here to deploy the FastCloud model. . The app version looks like this: . . and you can go to this URL to play with it. . https://huggingface.co/spaces/robtheoceanographer/FastClouds . I&#39;d love it is you send me screenshots of the clouds you classify with this. Thanks for reading. .",
            "url": "https://robtheoceanographer.com/fastclouds-app.html",
            "relUrl": "/fastclouds-app.html",
            "date": " ‚Ä¢ May 11, 2022"
        }
        
    
  
    
        ,"post3": {
            "title": "FastClouds - my first fastai model",
            "content": "I am currently a student in the fast.ai practical deep learnign for coders v5 class and after the first week I took Jeremy&#39;s advice to just try to complete some small project using the material covered so far in lesson 1. . Therefore, I humbly present FastClouds . This is not meant to be a serious project and is just for my own learning experience. . The Problem . On ground observations are a key part to weather forecasting. Most observations are taken by autonomous systems but there are still a few routine observations that are done manually by a human. One of these is cloud type classification. . This manual observation is currently done is at major airports around Australia. At these airports one or more highly knowledgeable and accredited aerodrome weather observers is stationed to take manual weather observations on a fixed schedule throughout each day. But, having such specialized observers at all airports all of the time is not cost effective or realistically feasible, especially for remote locations (e.g. uninhabited islands or infrequently used aerodromes). Therefore many of these remote or small areas miss out on observations and perhaps receive lower quality situational awareness and forecasts as a result. . The Solution . Using deep learning and image classification techniques to classifying cloud types from photographs seemed to me a very plausible solution to this problem. Therefore, after the Fastai course v5 lecture 1 I thought I&#39;d try to do exactly that using a visual learner example Jeremy provided as my starting point. . This algorithm uses a resnet and transfer learning as per the original notebook - [is-it-a-bird] -(https://www.kaggle.com/code/jhoward/is-it-a-bird-creating-a-model-from-your-own-data) but it uses three broad categories of clouds instead of just birds vs forests. These classes were chosen as per the work of Luke Howard in &quot;Essay of the Modifications of Clouds&quot; (1803). . This is an image from: https://www.weather.gov/jetstream/corefour . In order to create a data set duckduckgo was searched for the terms: cirrus clouds, cumulus clouds, stratus clouds. here is an example batch of images used in the training: . . The Notebook . This notebook is sitting on Kaggle as it has a nice (e.g. free...) gpu backend that allows you to run this model should you wish to poke around. . So, here it is for you to enjoy - https://www.kaggle.com/robtheoceanographer/fastclouds . Conclusion . While this is very basic demo and only about 70% accurate, it shows great potential for automating some of the cloud type observing in remote regions of Australia where there is currnetly limited or no human observer coverage, and therefore this work might benifit from future work. . I&#39;d love ideas, feedback, and suggestions should anyone have any. . Thanks .",
            "url": "https://robtheoceanographer.com/fastclouds.html",
            "relUrl": "/fastclouds.html",
            "date": " ‚Ä¢ Apr 29, 2022"
        }
        
    
  
    
        ,"post4": {
            "title": "A template for structuring your scientific code",
            "content": "Over the last ten years or so i‚Äôve slowly settled on a standard template and directory structure for my coding projects. I don‚Äôt see many people sharing ideas on project layout or directory structure so I thought i‚Äôd post a short blog on what I do. . Small to Medium Projects . In my mind small project are projects where all of the data and source code can fit on my laptop without causing too many problems. Therefore i put the whole project in one project directory structured as so: . . |-- bin |-- config.ini |-- docs |-- data |-- logs |-- runtime | `-- logs |-- scripts | `-- dotask.py | `-- python | `-- runall.py | `-- shell |-- tests . Small - all in one dir on the one machine. Mid - most in one dir but data maybe on an external drive. . Big Projects . Huge - some code with data on one machine some other code and data on another machine. Try to have src all together and to have the whole project managed by version control and make sure that the you know what is checked out where. Maybe have a build script that you check out in a tmp dir and run build to move it to wherever you need it to be. Have no hard code paths - only use config files that allow you to modify stuff on the fly as the time will come when you want to run an experiment and put data elsewhere. .",
            "url": "https://robtheoceanographer.com/markdown/2021/09/05/ProjectDirTemplate.html",
            "relUrl": "/markdown/2021/09/05/ProjectDirTemplate.html",
            "date": " ‚Ä¢ Sep 5, 2021"
        }
        
    
  
    
        ,"post5": {
            "title": "Grow your own Python Package",
            "content": "I decided to write up this short post to help both me and some colleagues remember what the most basic way of constructing a python package is. . This is a bare-bones build - you should be doing more than this - for example putting in README file and LICENSE file and good docstrings. . The basic structure of a python package is quite straight forward: . basemypackage --&gt; Base ‚îî‚îÄ‚îÄ mypackage --&gt; Actual Module ‚îú‚îÄ‚îÄ extras ‚îÇ ‚îú‚îÄ‚îÄ multiply.py ‚îÇ ‚îú‚îÄ‚îÄ divide.py ‚îú‚îÄ‚îÄ add.py ‚îú‚îÄ‚îÄ subtract.py . Here we have a dir called mypackage which has two python files in it - add.py and subtract.py but it also has a sub dir called extras which contains two more python files. all of this will form up the basis of our imaginary python package. keep in mind that you will have different files and folders in your package and you can divide up the files/folders in as course or as fine a way as you like. . The init.py . You will always find one or several __init__.py files in python packages. this is because the __init__.py files tell python to treat directories as modules (or sub-modules as we will see in a minute). this makes it an important part of our package and one we need to spend some time looking at. . The __init__.py file contains two important things: . a doc string for the available subpackages/submodules/methods in this dir (see the one in numpy as an example: https://github.com/numpy/numpy/blob/main/numpy/__init__.py) | the names of all the methods in all the Python files that are in this immediate directory. | . A typical __init__.py looks like this: . &quot;&quot;&quot; some helpful info of what each method is/does... &quot;&quot;&quot; from file import method # &#39;method&#39; is a function found in the python file called &#39;file.py&#39; . You will need to put a __init__.py in each sub dir of your package and so each sub-dir will become sub-modules of your main package. . here is the specific __init__.py for our dummy example: . &quot;&quot;&quot; Provides 1. ability to add two numbers 2. ability to subtract two number. ... &quot;&quot;&quot; from add import add from subtract import subtract . as we have an extras sub dir we need one in there too: . &quot;&quot;&quot; Provides 1. ability to add multiply numbers 2. ability to divide number. ... &quot;&quot;&quot; from multiply import multiply from divide import divide . The setup.py . Another attribute of a python package is the setup.py which is a python file that contains information about your package, it‚Äôs version, its dependencies, and a whole whole lot more. . Within the basemypackage dir (and in the same directory as our module mypackage ) we will now add a setup.py file: . from setuptools import setup, find_packages VERSION = &#39;0.0.1&#39; DESCRIPTION = &#39;My absolutely gorgeous Python package&#39; LONG_DESCRIPTION = &#39;My Python package, it is gorgeous, it makes you just want to import it.&#39; # Setting up setup( # the name must match the folder name &#39;mypackage&#39; name=&quot;mypackage&quot;, version=VERSION, author=&quot;Marty McFly&quot;, author_email=&quot;Marty.McFly@deloreantimemachines.com&gt;&quot;, description=DESCRIPTION, long_description=LONG_DESCRIPTION, packages=find_packages(), install_requires=[], # add any additional packages that # needs to be installed along with this package. Eg: &#39;numpy&#39; keywords=[&#39;python&#39;, &#39;gorgeous&#39;], url=&#39;https://gitlab.com/mygroup/gorgeous/basemypackage&#39;, license=&#39;MIT&#39;, classifiers= [ &quot;Development Status :: 1 - Planning&quot;, &quot;Intended Audience :: Religion&quot;, &quot;Programming Language :: Python :: 3&quot;, &quot;Operating System :: Unix&quot;, ] ) . The setuptools.setup() method accepts a variety of keyword arguments to specify additional metadata about your package. - info on this can be found here: https://github.com/pypa/sampleproject/blob/main/setup.py. This includs a classifiers section - a full list of classifiers can be found here: https://pypi.org/pypi?%3Aaction=list_classifiers. . Build/Install it . You can now build and install your package locally using the dir you have just set up. It is a better idea to store this package on-line somewhere where it can be version controlled and available whenever you need it. Many people build and distribute their package via PyPi - as it is the official Python repository where all Python packages are stored - but i find that a little scary and tend to just do my own private thing using gitlab so i‚Äôm not going to show you that. First we will cover just local build/install and then get to that other stuff later. . Locally . It‚Äôs common to locally install your project in ‚Äúeditable‚Äù or ‚Äúdeveloper‚Äù mode while you‚Äôre still developing/working on it. This allows your project to be both installed and editable so that updates are available when they get made. . Within the basemypackage dir run: . python -m pip install -e . . Although somewhat cryptic, -e is short for ‚Äìeditable, and . refers to the current working directory, so it should install the current directory in editable mode. This will also install any dependencies declared in the setup.py. . You should now be able to import mypackage in your python environment. . GitLab . It is more useful not to have a local copy of the package source-code but to use a version control system like gitlab to manage a lot of that for you. This is my preferred method of working and allows you to control who installs your package. . If you don‚Äôt already have one, create a new gitlab project and clone it to your local machine. Put all of the code that you want to include in your package including all the stuff shown above into this folder. . pip can talk git directly so it‚Äôs quite easy to build our python package from gitlab. Here is an example: . python3 -m pip install -e git+ssh://git@gitlab.com/mygroup/gorgeous/basemypackage.git . Or if you want to specify a non default branch: . python3 -m pip install git+ssh://git@gitlab.com/mygroup/gorgeous/basemypackage.git@dev . Or if you want to fetch a particular tag: . python3 -m pip install git+ssh://git@gitlab.com/mygroup/gorgeous/basemypackage.git@v0.01 . .N.B. The : at the end of gitlab.com must be changed to a / and you must have an ssh key registered with gitlab.com for the machine you‚Äôre working on. . There are a lot of other ways to install from version control that you can read about here: https://pip.pypa.io/en/stable/reference/pip_install/#vcs-support. . Notes . What i haven‚Äôt covered here is testing and adding test running to your package. This will come in the future i expect. .",
            "url": "https://robtheoceanographer.com/markdown/2021/04/19/PythonPackaging.html",
            "relUrl": "/markdown/2021/04/19/PythonPackaging.html",
            "date": " ‚Ä¢ Apr 19, 2021"
        }
        
    
  
    
        ,"post6": {
            "title": "Collaborative Coding with Git & GitLab",
            "content": "I‚Äôve been asked by more than one person about how to use git and merge requests for collaborative scientific coding. Here are my notes for me to refer back to later and for me to point people to when I spend time teaching them how to do this. . What and Why? . Version control is the lab notebook of the digital world: it‚Äôs what professionals use to keep track of what they‚Äôve done and to collaborate. Every large software development project relies on version control, and most scientists and engineers use it for their work as well. But, it isn‚Äôt just for software: books, papers, small data sets, and anything that changes over time or needs to be shared can and should be stored in some sort of version control system. . A version control system keeps track of these changes for us by creating different versions of our files. It allows us to decide which changes will be made to the next version (each record of these changes is called a commit), and keeps useful metadata about them. The complete history of commits for a particular project and their metadata make up a repository. Repositories can be kept in sync across different computers which facilitates collaboration among different people. . Version control is an unlimited ‚Äòundo‚Äô button, but it also allows many people to work in parallel. . How? . Ok, so how do we actually do this? At the moment most people use git and so that is what we will focus on here, but keep in mind that there are other version control systems out there. . Creating an repository . Setup . When we use git on a computer for the first time, we need to configure a few things: . $ git config --global user.name &quot;your name&quot; $ git config --global user.email &quot;you@thereis.noplace.likehome&quot; . Please use your own name and email address instead of my dummy ones. From here on in this user name and email will be associated with your login and will be used for all your subsequent git activity. . It is also a good idea to set up which editor git should use on this machine too: . git config --global core.editor &quot;vim&quot; . You can check your settings at any time: . git config --list . Create something . First, let‚Äôs create a directory in our home dir to do some work in: . cd ~/ mkdir the_next_spaceX cd the_next_spaceX . Then we tell git to make this dir a git repository ‚Äì that is a place where git can/should track and store versions of our files: . git init . Note - this is only needed at the root dir of a project as git tracks all subfolders of this dir. . Now lets look at what that has done: . ls . Hmm‚Ä¶ nothing‚Ä¶???? . well, lets look a little closer: . ls -a . It turns out that git has created a hidden directory within our dir called .git. . Git uses this hidden subdirectory to store all the information about the repo, including all files and sub-directories located within the project‚Äôs directory. If you ever delete the .git subdirectory you will lose the all of the repos‚Äôs history. It is an important dir. . Check that everything is set up and working: . git status . This has to be one of my most typed git commands as it tells you what git is doing and thinking. We will talk about what all this output means soon. . Tracking your work . Ok so you should be in our the_next_spaceX directory and ready to do some cool work. Let‚Äôs create a file called mars.txt that contains some notes about the planets suitability as a base. We‚Äôll use vim to edit the file (you can use whatever editor you like). . vim mars.txt . Now check it has been created properly: . ls . yep it is there. So, what does git think about this file? . git status . Git tells us that it‚Äôs noticed the new file but that it is untracked. untracked files just means that there‚Äôs a file in the directory that Git isn‚Äôt keeping track of and we need to decided if we want git to care about it or not. Tell Git to track a file using: . git add mars.txt . and the check that it worked: . git status . So, now git now knows that we want it to keep track of mars.txt, but it is telling us that it hasn‚Äôt recorded the changes we made to it as a commit yet. To get it to actually record the changes, we need to run one more command: . git commit -m &quot;Started my notes on Mars as a base&quot; . When we run git commit, git takes everything we have told it to save by using git add and stores a copy permanently inside that special .git directory. This permanent copy is called a commit and its short identifier is some unique number/letter combo like f22b25e. This identifier allows us to find this point in history later. . Just a few explanatory notes - the -m flag (for ‚Äúmessage‚Äù) is used to record a short descriptive comment that will help us remember what we did and why. If we just run git commit without the -m option then git will launch our pre-set editor and ask us to type message. Good commit messages start with a brief (&lt;50 characters) statement about the changes made in the commit. I like to use semantic commit messages but you can use whatever you like - some people prefer sentences like ‚ÄúIf applied, this commit will‚Ä¶‚Äù. Always write more than you think is needed. . What has this commit done: . git status . It has put all our changes into git and the message tells us that git is up to date with the files in this folder. . If we want to know what we‚Äôve done recently, we can ask Git to show us the repo‚Äôs history: . git log . This lists all commits made to a repository in reverse chronological order and shows you the long versions of those commit identifiers mentioned above. . History and how to undo-it . As we mentioned above - we can refer to commits by their identifiers. You can refer to the most recent commit of the working directory by using the identifier HEAD. . (N.B. make some random changes to the file here so that it is different and these examples work‚Ä¶) . Lets look at our work progress using the HEAD reference: . git diff HEAD mars.txt . This is the same as if you leave out HEAD (try it). The point of showing this it to make it clear that we can refer to previous commits. An easy way to look at the difference between now and previous commits is by adding ~1 (where ‚Äú~‚Äù is ‚Äútilde‚Äù, pronounced [til-duh]) to refer to the commit one before HEAD. . git diff HEAD~1 mars.txt . If we want to see the diff between even older commits we can use git diff again, but with the notation HEAD~1, HEAD~2, HEAD~3, and so on: . git diff HEAD~3 mars.txt . If we aren‚Äôt interested in the specific difference between commits we can use git show which shows us what changes we made at an older commit as well as the commit message that we wrote at the time: . git show HEAD~3 mars.txt . But what if we don‚Äôt know how many commits ago the change we‚Äôre interested in was? Well we can also refer to commits using those long strings of digits and letters called identifiers that git log displays: . git diff f22b25e3233b4645dabd0d81e651fe074bd8e73b mars.txt . So we can see what we‚Äôve changed but how can we restore older versions of things? Let‚Äôs suppose we change our mind about the last update to mars.txt and want to roll-back to a previously committed version. . Lets look at the status of our git repo to see where we‚Äôre at: . git status . We have un-staged changes and we will now put things back the way they were: . git checkout HEAD mars.txt . git checkout checks out (i.e., restores) an old version of a file. In this case, we‚Äôre telling git that we want to recover the version of the file recorded in the HEAD commit, which is the last saved commit. If we want to go back even further, we can use a commit identifier just like we did with diff and show above: . git checkout f22b25e mars.txt . Lets see what our git system is thinking about all this jumping around: . git status . This shows us that the file has been changed and are now sitting in the staging area ready for us to do something with. . Word of warning‚Ä¶ . There is a risk of getting in to a ‚Äòdetached HEAD‚Äô state when moving back in time with git. We can to revert our file to its state in a previous commit, but be careful! The command checkout has other important functionalities within git and it is easy for git to misunderstand your intentions if you are not very accurate with what you ask for. For example, if you forget to add the filename - eg. mars.txt in the previous command, you will get an error saying something about: . You are in &#39;detached HEAD&#39; state. You can look around, make experimental changes and commit them, and you can discard any commits you make in this state without impacting any branches by performing another checkout... . Don‚Äôt panic - the ‚Äúdetached HEAD‚Äù state is like ‚Äúlook, but don‚Äôt touch‚Äù space where so you shouldn‚Äôt make any changes in this state and after investigating your repo‚Äôs past state you should reattach your HEAD with git checkout master. . Completely reverting a committed change . The above checkout commands allow you to modify one file in the stage area but what if you want to completely revert a commit? Lets say that the last commit to the project‚Äôs repository contained an error and you wants to undo it. git revert [erroneous commit ID] will create a new commit that reverses the erroneous commit. Therefore git revert is different to git checkout [commit ID] because git checkout returns the files within the local repository to a previous state, whereas git revert reverses changes committed to the local and project repositories. . Ignore stuff . We almost always have files that we do not want git to track for us - like backup files created by our editor or large data files . (N.B. Let‚Äôs create a few dummy files so we have something to ignore‚Ä¶) . mkdir results touch a.dat b.dat c.dat results/a.out results/b.out . Lets see what git sees now: . git status . Now let‚Äôs pretend that putting these files in git would be a waste of disk space, so let‚Äôs tell git to ignore them. We do this by creating a file in the root directory of our project called .gitignore: . vim .gitignore . add the following to this file: . *.dat results/ . These wildcard patterns tell git what to ignore. Now that we have created this file we need to commit it to our repo so that it stays with our repo. . I almost never craft a .gitignore manually and I almost always steal them from other people - see lots of examples here: https://github.com/github/gitignore . Remotes . Version control really comes into its own when we begin to collaborate with others. We already have most of the machinery we need to do this. The only thing missing is to copy changes from your local repository to another repository on another machine/place. . The beauty of git is that it allow us to easily move work between any number of repositories in any location. In practice, though, it is much saner/easier to use one copy as a ‚Äúcentral hub‚Äù, and to keep it on the web rather than on someone‚Äôs private machine/laptop. Most people use online hosting services like GitHub, Bitbucket, or GitLab, to hold those central or master copies of the repo. . Let‚Äôs start by setting up a GitLab repo for sharing the changes we‚Äôve made to our current project with the rest of the team. Log in to GitLab.com, then click on the ‚ÄúNew Project‚Äù icon in the top right corner then create a blank project called the_next_spaceX. . . As soon as the repository is created GitLab displays a page with a URL and some information on how to configure your local repository. . What you have effectively done is the following on GitLab‚Äôs servers: . mkdir the_next_spaceX cd the_next_spaceX git init . and have created an empty git repo with your projects name. Now we need to connect our local git repo with the new, but empty, GitLab one. We do this by making the GitLab repository a remote for the local repository. The home page of the repository on GitLab includes the command you need to run on your machine: . git remote add origin git@gitlab.com:ccfp1/the_next_spacex.git . Note - origin is a just a name used to refer to the remote repository. It could be called anything, but origin is a convention that is often used by default in git and GitLab, so it‚Äôs helpful to stick with this unless there‚Äôs a reason not to. . We can check that the command has worked: . git remote -v . Once the remote is set up, this command will push the changes from our local repository to the repository on GitLab: . git push origin master . We can pull changes from the remote repository to the local one as well: . git pull origin master . We now have a way to share (some people call it ‚Äòinflict‚Äô) your code with others. . Collaborating . For this part it is good to work in pairs‚Ä¶ One person will be the ‚ÄúOwner‚Äù and the other will be the ‚ÄúCollaborator‚Äù. The goal is that the Collaborator add changes into the Owner‚Äôs repository. . (Note - the Owner needs to give the Collaborator access to the repo) . Now the Collaborator needs to download a copy of the Owner‚Äôs repository to their machine. This is called ‚Äúcloning a repo‚Äù. To clone the Owner‚Äôs repo: . git clone https://gitlab.com/ccfp1/the_next_spacex.git ~/the_next_spacex . The Collaborator can now make a change in their clone of the Owner‚Äôs repository, exactly the same way as we‚Äôve been doing before: . cd ~/the_next_spacex vim pluto.txt . Now add this to your local copy of the repo: . git add pluto.txt git commit -m &quot;Add notes about Pluto&quot; . Now we share this back with the remote repo by ‚Äúpushing‚Äù the change to the Owner‚Äôs repository on GitLab: . git push origin master . Ok, so now look to the Owner‚Äôs repository on GitLab website now. You should be able to see the new commit made by the Collaborator. . Now you as the owner can download the Collaborator‚Äôs changes from GitLab: . git pull origin master . Now the three repositories (Owner‚Äôs local, Collaborator‚Äôs local, and Owner‚Äôs on GitLab) are in sync. . A Basic Collaborative Workflow: . In practice, it is good to be sure that you have an updated version of the repository you are collaborating on, so you should git pull before making our changes. The basic collaborative workflow would be: . update your local repo with git pull origin master, | make your changes and stage them with git add, | commit your changes with git commit -m, and | upload the changes to GitLab with git push origin master | . It is better to make many commits with smaller changes rather than of one commit with massive changes: small commits are easier to read and review. . Branching . How do we all work on the same code/repo/project at the same time without clobbering each other‚Ä¶ enter branching‚Ä¶ . I think GitHub Flow is a good and simple way to do this, but there‚Äôs a lot of different workflows for git branching so search around and you might find one you prefer. . You always start from the master branch - which is the most stable and working version of you code - checking out a new branch to do your next piece of work. When you‚Äôre ready for your work to be reviewed and merged into the master branch of the project you open a merge request to master. . N.B. Even if you‚Äôre a solo developer on a project, I still recommend you use this the process of making branches and opening merge requests as it serves as a record of your work - it is your lab-notebook. . When you create a branch in your project, you‚Äôre creating an isolated copy/environment where you can try out your new ideas. Changes you make on one branch do not affect the other branches, so you are free to experiment and commit changes, safe in the knowledge that your branch won‚Äôt be merged until it‚Äôs ready to be reviewed by someone you‚Äôre collaborating with. . N.B. Branching is a core concept in git and the entire git workflow is based upon it. There‚Äôs only one rule: anything in the master branch is always deployable/usable. . Creating branches . Lets actually create a branch: . We will do this in the gitlab webpage... make an &quot;update-mars-file&quot; branch (#TODO insert a screenshot here) . Your branch name should be descriptive (e.g., parallelize-function-a), so that others can see what is being worked on. . Now, once your branch has been created, it‚Äôs time to start making changes‚Ä¶ pull your branch to your machine: . What branch are we on now? . git status . Now fetch the upstream changes: . git fetch . git fetch downloads commits, files, and refs from the remote repository into your local repo. Fetching is what you do when you want to see what everybody else has been working on. Git isolates fetched content from existing local content and it has absolutely no effect on your local development work. Fetched content has to be explicitly checked out using the git checkout‚Ä¶ lets do that now: . git checkout update-mars-file . You can now make your changes in this ‚Äòcopy‚Äô of the code and commit, push/pull until your heart is content. . You can also work on many branches at once but ‚Äúchecking-out‚Äù the other branches when you want to work on them. . Merging &amp; Review . ‚ÄúMerge requests‚Äù initiate a discussion about the commits you made in your branch. . You can open a Merge Request at any point: when you have little or no code but you just want to share some general ideas, or when you‚Äôre stuck and need help or advice, or when you‚Äôre ready for someone to review your work. By using GitLab‚Äôs @mention system in your Merge Requests and messages, you can ask for feedback from specific people or teams. . Lets do it - first push your local code back up to the remote: . git push origin update-mars-file . Now go to the gitlab webpage and create a merge request: . we will do this on the gitlab webpage... (#TODO insert a screenshot here) . Once a Merge Request has been opened, the person or team reviewing your changes will have questions or comments. Merge Requests are designed to encourage and capture these conversation and feedback. . N.B. You can also continue to push to changes this branch in light of discussion and feedback about your commits. If someone comments that you forgot to do something or if there is a bug in the code, you can fix it in your branch locally and push up the change. GitLab will show your new commits and any additional feedback you may receive in the unified Merge Request view. . do a simple review process on gitlab webpage... and then merge it... (#TODO insert a screenshot here) . Once your Merge Request has been reviewed and the branch passes your tests, you can merge your changes into master which will eventually be used as a release to ‚Äúproduction‚Äù. Deploying to production won‚Äôt be covered here. Once merged, ‚ÄúMerge Requests‚Äù preserve the record of the historical changes to our code. Because they‚Äôre search-able, discoverable, and they let anyone go back in time to understand why and how a decision was made. . Acknowledgments . Most of this content came from the wonderful work of Software-Carpentry https://swcarpentry.github.io/git-novice/ that i have mixed and matched and extended into bracnhing and review. .",
            "url": "https://robtheoceanographer.com/markdown/2021/03/21/CollaborativeCoding.html",
            "relUrl": "/markdown/2021/03/21/CollaborativeCoding.html",
            "date": " ‚Ä¢ Mar 21, 2021"
        }
        
    
  
    
        ,"post7": {
            "title": "Fastpages Notebook Blog Post",
            "content": "About . This notebook is a demonstration of some of capabilities of fastpages with notebooks. . With fastpages you can save your jupyter notebooks into the _notebooks folder at the root of your repository, and they will be automatically be converted to Jekyll compliant blog posts! . Front Matter . The first cell in your Jupyter Notebook or markdown blog post contains front matter. Front matter is metadata that can turn on/off options in your Notebook. It is formatted like this: . # &quot;My Title&quot; &gt; &quot;Awesome summary&quot; - toc:true- branch: master - badges: true - comments: true - author: Hamel Husain &amp; Jeremy Howard - categories: [fastpages, jupyter] . Setting toc: true will automatically generate a table of contents | Setting badges: true will automatically include GitHub and Google Colab links to your notebook. | Setting comments: true will enable commenting on your blog post, powered by utterances. | . The title and description need to be enclosed in double quotes only if they include special characters such as a colon. More details and options for front matter can be viewed on the front matter section of the README. . Markdown Shortcuts . A #hide comment at the top of any code cell will hide both the input and output of that cell in your blog post. . A #hide_input comment at the top of any code cell will only hide the input of that cell. . The comment #hide_input was used to hide the code that produced this. . put a #collapse-hide flag at the top of any cell if you want to hide that cell by default, but give the reader the option to show it: . import pandas as pd import altair as alt . . put a #collapse-show flag at the top of any cell if you want to show that cell by default, but give the reader the option to hide it: . cars = &#39;https://vega.github.io/vega-datasets/data/cars.json&#39; movies = &#39;https://vega.github.io/vega-datasets/data/movies.json&#39; sp500 = &#39;https://vega.github.io/vega-datasets/data/sp500.csv&#39; stocks = &#39;https://vega.github.io/vega-datasets/data/stocks.csv&#39; flights = &#39;https://vega.github.io/vega-datasets/data/flights-5k.json&#39; . . place a #collapse-output flag at the top of any cell if you want to put the output under a collapsable element that is closed by default, but give the reader the option to open it: . print(&#39;The comment #collapse-output was used to collapse the output of this cell by default but you can expand it.&#39;) . The comment #collapse-output was used to collapse the output of this cell by default but you can expand it. . . Interactive Charts With Altair . Charts made with Altair remain interactive. Example charts taken from this repo, specifically this notebook. . Example 1: DropDown . # use specific hard-wired values as the initial selected values selection = alt.selection_single( name=&#39;Select&#39;, fields=[&#39;Major_Genre&#39;, &#39;MPAA_Rating&#39;], init={&#39;Major_Genre&#39;: &#39;Drama&#39;, &#39;MPAA_Rating&#39;: &#39;R&#39;}, bind={&#39;Major_Genre&#39;: alt.binding_select(options=genres), &#39;MPAA_Rating&#39;: alt.binding_radio(options=mpaa)} ) # scatter plot, modify opacity based on selection alt.Chart(df).mark_circle().add_selection( selection ).encode( x=&#39;Rotten_Tomatoes_Rating:Q&#39;, y=&#39;IMDB_Rating:Q&#39;, tooltip=&#39;Title:N&#39;, opacity=alt.condition(selection, alt.value(0.75), alt.value(0.05)) ) . Example 2: Tooltips . alt.Chart(df).mark_circle().add_selection( alt.selection_interval(bind=&#39;scales&#39;, encodings=[&#39;x&#39;]) ).encode( alt.X(&#39;Rotten_Tomatoes_Rating&#39;, type=&#39;quantitative&#39;), alt.Y(&#39;IMDB_Rating&#39;, type=&#39;quantitative&#39;, axis=alt.Axis(minExtent=30)), # y=alt.Y(&#39;IMDB_Rating:Q&#39;, ), # use min extent to stabilize axis title placement tooltip=[&#39;Title:N&#39;, &#39;Release_Date:N&#39;, &#39;IMDB_Rating:Q&#39;, &#39;Rotten_Tomatoes_Rating:Q&#39;] ).properties( width=500, height=400 ) . Example 3: More Tooltips . label = alt.selection_single( encodings=[&#39;x&#39;], # limit selection to x-axis value on=&#39;mouseover&#39;, # select on mouseover events nearest=True, # select data point nearest the cursor empty=&#39;none&#39; # empty selection includes no data points ) # define our base line chart of stock prices base = alt.Chart().mark_line().encode( alt.X(&#39;date:T&#39;), alt.Y(&#39;price:Q&#39;, scale=alt.Scale(type=&#39;log&#39;)), alt.Color(&#39;symbol:N&#39;) ) alt.layer( base, # base line chart # add a rule mark to serve as a guide line alt.Chart().mark_rule(color=&#39;#aaa&#39;).encode( x=&#39;date:T&#39; ).transform_filter(label), # add circle marks for selected time points, hide unselected points base.mark_circle().encode( opacity=alt.condition(label, alt.value(1), alt.value(0)) ).add_selection(label), # add white stroked text to provide a legible background for labels base.mark_text(align=&#39;left&#39;, dx=5, dy=-5, stroke=&#39;white&#39;, strokeWidth=2).encode( text=&#39;price:Q&#39; ).transform_filter(label), # add text labels for stock prices base.mark_text(align=&#39;left&#39;, dx=5, dy=-5).encode( text=&#39;price:Q&#39; ).transform_filter(label), data=stocks ).properties( width=500, height=400 ) . Data Tables . You can display tables per the usual way in your blog: . df[[&#39;Title&#39;, &#39;Worldwide_Gross&#39;, &#39;Production_Budget&#39;, &#39;Distributor&#39;, &#39;MPAA_Rating&#39;, &#39;IMDB_Rating&#39;, &#39;Rotten_Tomatoes_Rating&#39;]].head() . Title Worldwide_Gross Production_Budget Distributor MPAA_Rating IMDB_Rating Rotten_Tomatoes_Rating . 0 The Land Girls | 146083.0 | 8000000.0 | Gramercy | R | 6.1 | NaN | . 1 First Love, Last Rites | 10876.0 | 300000.0 | Strand | R | 6.9 | NaN | . 2 I Married a Strange Person | 203134.0 | 250000.0 | Lionsgate | None | 6.8 | NaN | . 3 Let&#39;s Talk About Sex | 373615.0 | 300000.0 | Fine Line | None | NaN | 13.0 | . 4 Slam | 1087521.0 | 1000000.0 | Trimark | R | 3.4 | 62.0 | . Images . Local Images . You can reference local images and they will be copied and rendered on your blog automatically. You can include these with the following markdown syntax: . ![](my_icons/fastai_logo.png) . . Remote Images . Remote images can be included with the following markdown syntax: . ![](https://image.flaticon.com/icons/svg/36/36686.svg) . . Animated Gifs . Animated Gifs work, too! . ![](https://upload.wikimedia.org/wikipedia/commons/7/71/ChessPawnSpecialMoves.gif) . . Captions . You can include captions with markdown images like this: . ![](https://www.fast.ai/images/fastai_paper/show_batch.png &quot;Credit: https://www.fast.ai/2020/02/13/fastai-A-Layered-API-for-Deep-Learning/&quot;) . . Other Elements . GitHub Flavored Emojis . Typing I give this post two :+1:! will render this: . I give this post two :+1:! . Tweetcards . Typing &gt; twitter: https://twitter.com/jakevdp/status/1204765621767901185?s=20 will render this: Altair 4.0 is released! https://t.co/PCyrIOTcvvTry it with: pip install -U altairThe full list of changes is at https://t.co/roXmzcsT58 ...read on for some highlights. pic.twitter.com/vWJ0ZveKbZ . &mdash; Jake VanderPlas (@jakevdp) December 11, 2019 . Youtube Videos . Typing &gt; youtube: https://youtu.be/XfoYk_Z5AkI will render this: . Boxes / Callouts . Typing &gt; Warning: There will be no second warning! will render this: . Warning: There will be no second warning! . Typing &gt; Important: Pay attention! It&#39;s important. will render this: . Important: Pay attention! It&#8217;s important. . Typing &gt; Tip: This is my tip. will render this: . Tip: This is my tip. . Typing &gt; Note: Take note of this. will render this: . Note: Take note of this. . Typing &gt; Note: A doc link to [an example website: fast.ai](https://www.fast.ai/) should also work fine. will render in the docs: . Note: A doc link to an example website: fast.ai should also work fine. . Footnotes . You can have footnotes in notebooks, however the syntax is different compared to markdown documents. This guide provides more detail about this syntax, which looks like this: . For example, here is a footnote {% fn 1 %}. And another {% fn 2 %} {{ &#39;This is the footnote.&#39; | fndetail: 1 }} {{ &#39;This is the other footnote. You can even have a [link](www.github.com)!&#39; | fndetail: 2 }} . For example, here is a footnote 1. . And another 2 . 1. This is the footnote.‚Ü© . 2. This is the other footnote. You can even have a link!‚Ü© .",
            "url": "https://robtheoceanographer.com/jupyter/2020/02/20/test.html",
            "relUrl": "/jupyter/2020/02/20/test.html",
            "date": " ‚Ä¢ Feb 20, 2020"
        }
        
    
  
    
        ,"post8": {
            "title": "Python docstrings - An Absolute Beginners Guide",
            "content": "I‚Äôve been asked a few times recently about how to write good docstrings in Python so I thought I‚Äôd put a few notes up for everyone to refer back to later. . What is it? . There‚Äôs no need to re-invent the wheel here so the best thing is to read the python definition on what-is-a-docstring. . But, having said that I will highlight the purpose of a docstring for those of you, like me, who are too lazy to bother reading those pages - a docstring is a piece of text that occurs as the first line(s) in a python function, class, or module. This text becomes the __doc__ special attribute of that object and is used to help users know what the thing you wrote is, does, and needs. Without a docstring your work is pretty useless and almost completely un-reusable and un-sharable. For me, docstrings are all about the re-usability and sharability. . Functions . Every function you write needs a docstring - in fact I‚Äôd say this is the most important thing you can do when writing a function (aside from testing, but you‚Äôre already doing that‚Ä¶right?). . A good docstring contains three elements: . a one line description of the purpose. | a clear description of the inputs and outputs to the function. | the type each input and output will be. | Here is how to write a good docstring for a function: . def add_binary(a, b): &#39;&#39;&#39; Returns the sum of two decimal numbers in binary digits. Args: a (int): A decimal integer b (int): Another decimal integer Returns: binary_sum (str): Binary string of the sum of a and b &#39;&#39;&#39; binary_sum = bin(a+b)[2:] return binary_sum . The docstring has now become the objects __doc__ attribute and can now be used by users to get help on the use of the function: . print(add_binary.__doc__) . output: . Returns the sum of two decimal numbers in binary digits. Args: a (int): A decimal integer b (int): Another decimal integer Returns: binary_sum (str): Binary string of the sum of a and b . Classes . Most people are good at putting docstrings in their function but people often forget to put them in the classes they write. The docstring for a class is very similar to the function docstring but it has two extra elements: . a description of the basic behavior of the class. | a list of the public methods available to the user. | Here is an example of a class docstring: . class Person: &quot;&quot;&quot; A class to represent a person. some blah about why/what it does. Args: name (str): The first name of the person surname (str): The family name of the person age (int): The age of the person Methods: info(additional=&quot;&quot;): Prints the person&#39;s name and age. &quot;&quot;&quot; def __init__(self, name, surname, age): &quot;&quot;&quot; Constructs all the necessary attributes for the person object. Args: name (str): The first name of the person surname (str): The family name of the person age (int): The age of the person &quot;&quot;&quot; self.name = name self.surname = surname self.age = age ... . As per the function docstring this text is also assigned to the __docstring__ attribute for the class. we can see that by: . print(Person.__doc__) . Output . A class to represent a person. some blah about why/what it does. Args: name (str): The first name of the person surname (str): The family name of the person age (int): The age of the person Methods: info(additional=&quot;&quot;): Prints the person&#39;s name and age. . Modules . If people are slack with class docstring then they are completely hopeless when it comes to docstrings in Modules. Module docstrings are much like a Class docstring except that it also includes descriptions of the classes available in the module. This is best way to understand this is with an example. Here we will look at the pickle module: . import pickle print(pickle.__doc__) . output . Create portable serialized representations of Python objects. See module cPickle for a (much) faster implementation. See module copy_reg for a mechanism for registering custom picklers. See module pickletools source for extensive comments. Classes: Pickler Unpickler Functions: dump(object, file) dumps(object) -&gt; string load(file) -&gt; object loads(string) -&gt; object Misc variables: __version__ format_version compatible_formats . Here, we can see the docstring that is written at the beginning of the pickle.py module file which has been assigned to the __doc__ attribute for the module and can be be accessed as its docstring. . Help() . There is a help() function in python that leverages all of these docstrings and aggregates them into a nice little manual for the user to explore your code. Again, Pickle is a good example: . import pickle help(pickle) . I won‚Äôt paste the output here as it‚Äôs too long‚Ä¶ go run it yourself and see what happens‚Ä¶ . More Info . If you need inspiration check out pep 257 ‚Äì Docstring Conventions or go hunting around in your favourite python module. .",
            "url": "https://robtheoceanographer.com/markdown/2020/01/11/HowToDocstring.html",
            "relUrl": "/markdown/2020/01/11/HowToDocstring.html",
            "date": " ‚Ä¢ Jan 11, 2020"
        }
        
    
  
    
        ,"post9": {
            "title": "Checklist for Technological Innovation in Data Science",
            "content": "Lately I‚Äôve been thinking about how one decides to adopt new technology or change the way one works. There‚Äôs a lot of push for Data Scientists to keep up with the latest and greatest innovation in IT or analysis (e.g. change to git rather than staying with svn) but there‚Äôs rarely any objective analysis or thought put into whether or not a Data Scientist should invest the time and energy in doing this. Therefore I decided to put together a list of principles that I hold and use a a yard stick when presented with such situations. These are presented below. . The new tool or method should be cheaper than the one it replaces. . | It should be at least as fast as the tool or method it replaces. . | It should do work or produce work that is clearly and demonstrably ‚Äòbetter‚Äô than the one it replaces. . | It should be repairable and maintainable by people inside the organisation, provided that they are provided with the necessary tools. . | It should not replace or disrupt anything good that already exists, and this includes people and community relationships. . |",
            "url": "https://robtheoceanographer.com/markdown/2018/03/27/InnovationChecklist.html",
            "relUrl": "/markdown/2018/03/27/InnovationChecklist.html",
            "date": " ‚Ä¢ Mar 27, 2018"
        }
        
    
  
    
        ,"post10": {
            "title": "A Test Driven Dev Example",
            "content": "How do you code? . Research (see here) shows that: . 1) the knowledge required to develop and use scientific software is primarily acquired from peers and through self-study, rather than from formal education and training; | 2) the number of scientists using supercomputers is small compared to the number using desktop or intermediate computers; | 3) most scientists rely primarily on software with a large user base; | 4) while many scientists believe that software testing is important, a smaller number believe they have sufficient understanding about testing concepts; | . This blog is a small example of test-driven development and will hopefully help address point 4. . Take away: . If you only take one thing from this post it‚Äôs that everytime you do any coding ask yourself two questions: . How do I (and you) trust this piece of code? | How do I (and you) know it is doing what intended it to do? | . Why Test? . ‚ÄúWe believe that software is just another kind of experimental apparatus and should be built, checked, and used as carefully as any physical apparatus. However, while most scientists are careful to validate their laboratory and field equipment, most do not know how reliable their software is.‚Äù source . You wouldn‚Äôt use an instrument that hasn‚Äôt been calibrated but we seem to have no problem using code without any check or balances at all. . Test Driven Development . Test-driven Development (TDD) is a procedure that takes the process of writing code and the writing tests for it and flips it on it‚Äôs head. It advocates that you write the tests first and the least amount of code possible to pass these tests second. . Before you write a single line of a function, you first write the test for that function. . After you‚Äôve written the test you can then write the smallest amount of code needed to pass that test. If you want to do more or add more functionality you must first write another test and so on repeating the test-then-implement process until you have working code - often with as much testing code as actual code. . Most of the online info about TDD shows examples using testing harnesses and automated testing libraries. when i was starting out i found these very hard to follow and to use. Most scientist develop interactively in through an ide or terminal and so here i want to provide an example that can implement the principles of TDD in this framework. . The example: . import pandas import numpy . Non-test driven development . # load my data. some_data=pandas.read_csv(&#39;simple_data.csv&#39;, sep=&#39;,&#39;,header=None) . # divide column two by 2.0. some_data[1]/2.0 . TypeError Traceback (most recent call last) &lt;ipython-input-3-15ba6180a4ae&gt; in &lt;module&gt;() 1 # divide column two by 2.0. -&gt; 2 some_data[1]/2.0 ... TypeError: unsupported operand type(s) for /: &#39;str&#39; and &#39;float&#39; . ####_ We are already starting to run into errors that are making me go back and troubleshoot/debug._ . Defensive dev version . My Plan . 1) Load data . Use my knowledge of the dataset to write a test upfront that will all me to be certain that the data has loaded properly. . 2) Divide the second column of data by 2. . This will require a function that can do the math and then the application of that function to my data . My Pre-defined Tests . # 1) loading of data. # I know that the data should have two columns and 39 rows when loaded so lets test that. some_data.shape == (39,2) . $ False . # 2) I know that when I divide the number 5 I should get 2.5 so lets test the divide function using that. divide_by_two(5) == 2.5 . NameError Traceback (most recent call last) &lt;ipython-input-5-c169179b0f66&gt; in &lt;module&gt;() 1 # 2) I know that when I divide the number 5 I should get 2.5 so lets test the divide function using that. -&gt; 2 divide_by_two(5) == 2.5 NameError: name &#39;divide_by_two&#39; is not defined . Redo the tests to be more useful and verbose . Nicer and more readble way to write tests like these is to use some inbuilt tools. . One of the easiest and most acessible is the assert statement. It is designed to catch conditions that should never occur in your code and to allow your code to stop at that point and return you a sensisble message. . Python has assert(), http://swcarpentry.github.io/python-novice-inflammation/08-defensive/ | R has assert() but it‚Äôs in a package called testit (https://cran.rstudio.com/web/packages/testit/index.html), | Matlab has assert() but i don‚Äôt know how to use it‚Ä¶ | . In python the basics of assert are: . assert x &gt;= 0, &#39;x is less than zero&#39; . when x is less than zero the logic of x &gt;= 0 will return false and an assert error will be raised printing the message that appears after the comma. . # 1) loading of data. assert some_data.shape == (39,2), &quot;The data hasn&#39;t loaded properly. Size is not 39 x 2&quot; . AssertionError Traceback (most recent call last) &lt;ipython-input-6-b2d7fe176e23&gt; in &lt;module&gt;() 1 # 1) loading of data. -&gt; 2 assert some_data.shape == (39,2), &quot;The data hasn&#39;t loaded properly. Size is not 39 x 2&quot; AssertionError: The data hasn&#39;t loaded properly. Size is not 39 x 2 . # 2) I know that when i divide the number 5 i should get 2.5 so lets test the divide function using that. assert divide_by_two(5) == 2.5, &quot;The divide_by_two function did not return 2.5 when given 5.&quot; . NameError Traceback (most recent call last) &lt;ipython-input-7-533c1c115487&gt; in &lt;module&gt;() 1 # 2) I know that when i divide the number 5 i should get 2.5 so lets test the divide function using that. -&gt; 2 assert divide_by_two(5) == 2.5, &quot;The divide_by_two function did not return 2.5 when given 5.&quot; NameError: name &#39;divide_by_two&#39; is not defined . Now start coding to make the tests pass . the idea is to write as little as possible to make the test pass. | . some_data = numpy.empty([39, 2]) . def divide_by_two(vals): return 2.5 . start to refactor to actually work: . some_data = pandas.read_csv(&#39;simple_data.csv&#39;, sep=&#39;,&#39;,header=0) assert some_data.shape == (39,2), &quot;The data hasn&#39;t loaded properly. Size is not 39 x 2&quot; . def divide_by_two(vals): return vals/2.0 assert divide_by_two(5) == 2.5, &quot;The divide_by_two function did not return 2.5 when given 5.&quot; . Now put a piece of my data and my function together . # 3) Now test the two things together. # I know that the third number in my data is 4 and so the divide function should return 2. assert some_data.sample_data[2] == 4, &quot;The data in the third rows of col 2 is no longer 4...&quot; assert divide_by_two(some_data.sample_data[2]) == 2, &quot;The divide_by_two function did not return 2 when given the 3rd element of some_data.sample_data&quot; . Now i can use this function in anger on the whole dataset . divide_by_two(some_data.sample_data) . 0 0.5 1 1.5 2 2.0 3 3.5 4 5.5 5 9.0 6 14.5 7 23.5 8 38.0 9 61.5 10 99.5 11 161.0 12 260.5 13 421.5 14 682.0 15 1103.5 16 1785.5 17 2889.0 18 4674.5 19 7563.5 20 12238.0 21 19801.5 22 32039.5 23 51841.0 24 83880.5 25 135721.5 26 219602.0 27 355323.5 28 574925.5 29 930249.0 30 1505174.5 31 2435423.5 32 3940598.0 33 6376021.5 34 10316619.5 35 16692641.0 36 27009260.5 37 43701901.5 38 70711162.0 Name: sample_data, dtype: float64 .",
            "url": "https://robtheoceanographer.com/markdown/2017/08/28/TDDexample.html",
            "relUrl": "/markdown/2017/08/28/TDDexample.html",
            "date": " ‚Ä¢ Aug 28, 2017"
        }
        
    
  
    
        ,"post11": {
            "title": "A Guide For Speakers.",
            "content": "All speakers must ask themselves one basic question: Why am I lecturing? What will I be able to get across to the listeners through a lecture that they could not get just by reading a book or working through an online tute? . The answer for me, in part, is that the physical presence of the speaker and the unfolding of the lecture in front of their eyes will make a difference for the audience. Great lecturers not only inform the audience they also engage their imaginations and inspire them learn more. . This is the goal of almost all talks/seminars/lectures/presentations is to give you something that you just can‚Äôt get from a book or from a website -&gt; human interaction and inspiration. . I have two basic guidelines/tips that you can use to keep help you keep your audiences interested and to not sound like a pre-recorded audiobook: . 1 ‚Äì Keep it short and sweet . For most talks you will have tens of minutes and if you are not finished on time the chair will stop you. ALWAYS KEEP TO TIME! . 2 ‚Äì Tell them a story. . Try it. It works. A story has power. It can connect you to the audience and allow you to put information into their heads. . Your talk should be the trailer, not the whole movie! . So how do you do that, exactly? Well, here‚Äôs the template: the ABT‚Ä¶ And‚Ä¶ But‚Ä¶ Therefore‚Ä¶ This is the core of any story. e.g. I tried to do this, but it didn‚Äôt work, therefore/so I did this cool thing. . Watch this video: . TIPS: Try creating a one sentence statement that provides a few set up details, states the problem, then points to the actions being taken to address it. Some examples: ‚ÄúIn my laboratory we study ocean chemistry AND phytoplankton biochemistry, BUT we‚Äôve recently realised the real questions we want to ask require larger spatial and temporal scales, THEREFORE we‚Äôve begun learning matlab to match satellite data to our field data.‚Äù or as simple as ‚ÄúWe do research BUT realised it‚Äôs not the right type THEREFORE we‚Äôre taking a different approach.‚Äù. . Heaps more can be found here: https://www.facebook.com/ABTshare . More about story telling in science communication can be found here in this science article: http://www.sciencemag.org/content/342/6163/1168.1.full.pdf . . ‚ÄúA great lecture is not a rote mechanical reading of notes, but a kind of dance, in which lecturer and listeners watch, respond to, and draw energy and inspiration from each other.‚Äù RICHARD GUNDERMAN .",
            "url": "https://robtheoceanographer.com/markdown/2016/10/03/speaking.html",
            "relUrl": "/markdown/2016/10/03/speaking.html",
            "date": " ‚Ä¢ Oct 3, 2016"
        }
        
    
  
    
        ,"post12": {
            "title": "Tips For Running a Data Science Group",
            "content": "I‚Äôve built and ran four data science groups/meet ups in the past 10 years or so. Three of the four failed, but each failed in a different way and for different reasons. I now have a list based on this experience and on that one semi-successful group. This list is evolving and is by no means a complete list nor is it suitable for all cases or all people ‚Äì pick and choose whatever you like from it and ignore the rest. . These are just a few notes of what works for me: . Silence Kills! - Communicate with everyone who bothers to listen. The more people that hear about you and your group the merrier the group will be. For the group to work you have to be in peoples minds and remembered. If people don‚Äôt hear from you for a while they will assume you‚Äôve been hit by a bus or the group has failed or both. . | Advertise ‚Äì Put the group on Twitter and Facebook and Instagram and Slack and everywhere else you can think of! Get your event notifications posted on every email list you can find and spam all of the groups you‚Äôre in. ‚ÄúFight Club‚Äù rules do not apply here ‚Äì you must talk about your group if you want new people attending and if you don‚Äôt get new people attending, from time to time, the group will become stale and sour after just a few short months. . | Advertise Really Well ‚Äì Post notification on many platforms in plain language with lots of information. Don‚Äôt rely on someone knowing you personally or finding your tiny wiki page or being on the right email lists at the right time. The person you would most like to be at your group is the person doing the cool stuff that you don‚Äôt know about ‚Äì make it easy for them to find you. Include all the vital information ‚Äì location, time, duration, accessing the space, where to find more info on the topic‚Ä¶ etc. Also, do yourself a favour and Google: ‚ÄúEffective Social Media Tactics‚Äù. . | Build Your Own Site - Build yourself a modern and easy to use webpage. Update it all the time. Link it to your social media stuff. Post upcoming events as soon as you know about them. Post agendas for these events ‚Äì include useful info like what language/tool/package/technique the group will discuss etc etc. Maintain this webpage actively. Do search engine optimisation ‚Äì people will google you and you want them to find you. . | Build Stability, Clarity, and Certainty ‚Äì Keep a good archive of past events. People like to look through them for that thing they missed or to find out what your group is like before committing time to attend. Post agendas and time tables of what is coming up. Let people know exactly what they can expect and how much time etc you are asking them for. Post early, post often. Avoid using acronyms and if you do provide a link to Wikipedia or something that explains them. Don‚Äôt reference or make jokes about people/orgs or newbs. Show tolerance for all levels and abilities. Host newb events to draw out the shy coders and those who are suffering at the hands of our old friend the imposter syndrome. Accept all points of view and don‚Äôt allow the discussions to turn into an argument of ‚Äúthat‚Äôs not how I would‚Äôve done it‚Äù - get your loudest members to swallow their pride and just say yes every now and again. . | Be Regular - Make your group a regular part of peoples calendars. Make it a routine. Find a cycle and stick to it. Never miss a scheduled meet up date. Never. If someone shows up and the thing isn‚Äôt on and there‚Äôs no info on the web/email then they are not coming back. Ever. Do this too often and your group will devolve into just you and your mate skiving off for a coffee every month. . | Be Convenient - Organise the time of your group so it‚Äôs easy for people to attend - not before 10am and not after 5pm and not on weekends is a good starting rule. Find out what the standing meetings are and avoid them. Make the venue easy to get to and find. Don‚Äôt hold it off site. . | Be a Good Community Citizen - look up other groups in the area and invite them over for a joint session. Make sure your events don‚Äôt clash with their events or other events in the building. Talk to them. Gain networks of potential speakers and contacts for your members. Acknowledge people around you for their efforts and achievements. . | Get Feedback ‚Äì Ask for feedback from the people who actually bother to take the time to show up. Act on that feedback. . | Good luck, share your experience, and above all have fun .",
            "url": "https://robtheoceanographer.com/markdown/2016/08/30/StartingAGroup.html",
            "relUrl": "/markdown/2016/08/30/StartingAGroup.html",
            "date": " ‚Ä¢ Aug 30, 2016"
        }
        
    
  
    
        ,"post13": {
            "title": "In search of a better Tilde.",
            "content": "My good friend Dr. Tom Remenyi just sent me a little LaTeX hack that I thought would be worth sharing. He recently found himself in need of a tilde, that is a ‚Äò~‚Äô and quickly became frustrated with the standard/default LaTeX rendering and as such decided to define his own. Here‚Äôs how you can to‚Ä¶ . What is a tilde? . tilde (~ , pronounced TILL-duh or TILL-dee and sometimes called a ‚Äútwiddle‚Äù or a ‚Äúsquiggle‚Äù) is a foundational mathematical symbol meaning ‚Äúapproximately‚Äù and in much of computer science logic means ‚Äúnot.‚Äù . Dr.Tom‚Äôs instructions: . What follows is a direct quote of his email to me: . For years it has bugged me that using the tilde symbol in latex is a real pain, solutions have been never quite right. I have needed to use it quite a bit in a recent document, so I have found a solution. I thought I would share it, since I like it so much. I hope one of you find this useful. . Below is a line of code you can add to the preamble of any document and it will define a command that will place a sensibly sized and positioned tilde where you want it. (I have quite figured out where I can put it so it always works and doesn‚Äôt get overwritten by new packages). Why this isn‚Äôt the default (or close to the default), I don‚Äôt know, but here it is. . newcommand{ goodtilde}} %create a command that uses a decent ~ (tilde) in-text. . It is used like this throughout the latex of the document: . There are goodtilde50 excellent reasons why this should be the default symbol in latex. . OR . This is the way to put a goodtilde symbol in your text. .",
            "url": "https://robtheoceanographer.com/markdown/2016/06/27/LatexTilde.html",
            "relUrl": "/markdown/2016/06/27/LatexTilde.html",
            "date": " ‚Ä¢ Jun 27, 2016"
        }
        
    
  
    
        ,"post14": {
            "title": "How to LaTeX - An Absolute Beginners Guide",
            "content": "I‚Äôve been asked a few times recently about how to LaTeX so I thought I‚Äôd put a few notes up for everyone to refer back to later. . What is it? . There‚Äôs no need to re-invent the wheel here so the best thing is to read the, actually pretty good, Wikipedia pages on Tex and LaTeX. . Having said that I will highlight the purpose of LaTeX (TeX) for those of you, like me, who are too lazy to bother reading those pages - The original TeX was designed with two main goals in mind: to allow anybody to produce high-quality books using a reasonably minimal amount of effort, and to provide a system that would give exactly the same results on all computers, at any point in time. For me, LaTeX is all about the second of those two points - easy reproducibility. . How to install LaTeX? . First of all, there are lots of different types of LaTeX distributions. To simplify your search here are a couple of simple suggests: . There are two parts to a LaTeX installation: a LaTeX distribution (the compiler) and an editor to write the document in (a text editor of your choice): . Editors . You can use any text editor you like but there are a couple that were designed for LaTeX and have built in LaTeX typesetting functionality that is really useful - if you‚Äôre just starting out I suggest: TeXShop on a Mac and TeXworks or Texmaker or TeXStudio on Linux, and MiKTeX or Texmaker on Windows. . LaTeX . Linux users: You may already have LaTeX installed on your system. Type which latex at a command prompt to find out - if you have it, it will respond with /usr/bin/latex or something like that. If you don‚Äôt you‚Äôll need to install it. Using Fedora run the following as a superuser: yum install texlive . | . If you are using another Linux distribution, you can download LaTeX and install it using your package manager (e.g. apt-get install texlive etc). I‚Äôm no linux guru and I was able to install it on my Linux machine without screwing too much up. . Mac users: You can install everything you‚Äôll need from the MacTeX web page http://www.tug.org/mactex/. MacTeX should take care of all of your latex compatibility stuff and should be pretty straight forward. . | Windows users: You can install MiKTeX http://miktex.org/, which is the latex distribution built for Windows. Some helpful notes are found here: http://www.howtotex.com/howto/installing-latex-on-windows/. It should take care of all of your LaTeX compatibility stuff and should be pretty straight forward - your milage may vary, especially with the new Windows OS. . | . The absolute basics . How to create a document with ‚Äúhello world‚Äù as the content: . Go to this link and watch the video http://www.youtube.com/watch?v=kQl2XdBiWNE&amp;feature=related. This video is designed for TexShop but most of this is applicable to TexWorks or MikTeX too. I suggest saving the first document you create into a folder on the desktop called ‚ÄúMyFirstTexDocument‚Äù. . Getting started . First of all, if you‚Äôre not a coder, don‚Äôt get scared by the code and funny symbols and stuff. . Dr. Tom Remenyi put together a very useful training document for LaTeX - mainly designed for marine scientists but it‚Äôs forms a useful starting point for all disciplines. Keep this document handy when you‚Äôre starting out. It makes a great cheat sheet. I have forked his githib repo and made it available here: https://github.com/RobTheOceanographer/latex_training_document. . The repo needs a little updating and I‚Äôll work on that in the future, but for now there are two core documents of interest to you: . Latex_training_document.pdf (open as normal) | Latex_training_document.tex (open with your latex editor). | . The rest of the files are used by your machine to create the document and you can ignore them for now. Open both files and try to find the bits that are similar between the .tex and the .pdf. A lot of the comments on ‚Äúhow to do blah blah blah‚Äù are in the .tex document (comments are the bits that immediately follow a % sign). . I recommend that you start a new document for yourself and use Tom‚Äôs Latex training document as a cheat sheet to copy an paste the commands you need to do the things you want. The beauty of it is you can see all the commands in the code, the code that YOU wrote, so it is easier to see why something isn‚Äôt working and how to fix it. Also the online help is awesome - Google is your friend. . Installing Packages . Installing new packages is usually a source of frustration for new LaTeX users. On Mac and Linux systems the easiest way to do it is to use your systems package management system (e.g apt-get or yum) to find and install packages. I‚Äôve never really worked with LaTeX on windows you‚Äôll have to do some searching and work this bit out on your own. . To get Tom‚Äôs Latex training doc to typeset on Fedora I had to install the following extra packages: . yum install texlive-preprint yum install texlive-threeparttable yum install texlive-multirow . If you can‚Äôt find what you‚Äôre looking for in your package manager you can search on the Com¬≠pre¬≠hen¬≠sive TeX Archive Net¬≠work (CTAN) website. CTAN is the central place for all LaTeX packages and it currently abut 4952 packages, most of which are free. https://www.ctan.org/ . How to CTAN . If you download a package from CTAN you will need to build the .sty file, put it into a dir that LaTeX can see and then tell LaTeX about it. Below is a rough guide to do this: . search for missing packages here: https://www.ctan.org/search/ . | Run LaTeX on the downloaded &lt;package&gt;.ins file. This should generate a &lt;package&gt;.sty file. If you want to have the documentation for this package then you need to run LaTeX on the &lt;package&gt;.dtx file too. . | Move the &lt;package&gt;.sty and &lt;package&gt;.dvi files to a directory where LaTeX looks for it‚Äôs input files. On Linux this is usually somewhere like this: ~/texmf/tex/latex/&lt;package&gt;. . | Update your LaTeX file name database using the texhash command (something like this: texhash ~/texmf) and you‚Äôre done. . | . Examples and Inspiration . If you need inspiration check out this stackexchange thread of beautifully typeset documents created in TeX/LaTeX: http://tex.stackexchange.com/questions/1319/showcase-of-beautiful-typography-done-in-tex-friends .",
            "url": "https://robtheoceanographer.com/markdown/2016/01/02/HowToLatex.html",
            "relUrl": "/markdown/2016/01/02/HowToLatex.html",
            "date": " ‚Ä¢ Jan 2, 2016"
        }
        
    
  
    
        ,"post15": {
            "title": "R Shiny - Getting your data/analysis onto the web with Shiny apps.",
            "content": "A years ago a I worked in a lab that was spending a lot of money using commercial statistical software to analyse Phytoplankton physiological data collected with a PAM and a group of PhD students, including me, decided that we could do the same analysis using the free and open statistical programming language R. We produced a set of functions to do all of the analysis needed by the team but after a while we realised that people were not using them as they weren‚Äôt comfortable with the command line or with R. Therefore we set about building a simple Graphical User Interface designed specifically to use our R analysis tools using a Shiny app. Here are a few notes on how to get started in Shiny and a link to the PAM Light Curve analyser we built. . What is it? . The Shiny CRAN page has this to say: ‚Äúshiny: Web Application Framework for R makes it incredibly easy to build interactive web applications with R. Automatic ‚Äúreactive‚Äù binding between inputs and outputs and extensive pre-built widgets make it possible to build beautiful, responsive, and powerful applications with minimal effort.‚Äù . But to me Shiny‚Äôs greatest value is that there‚Äôs no need to re-invent the wheel in html or JavaScript as a lot of the components that you want for a simple app have already been done before and can be copied directly from others. This is super easy in Shiny as they have a great Gallery of examples - http://shiny.rstudio.com/gallery/ . For some inspiration see the User Showcase: https://www.rstudio.com/products/shiny/shiny-user-showcase/ . Here is an embedded example from the Shiny Gallery: . An example from the gallery. How to Shiny? . First of all, there are lots of different ways to start using Shiny but the best way is to take half an hour and work through the on-line tutorial here: http://shiny.rstudio.com/tutorial/. . Structure of a Shiny app . Basically, there are two components to a Shiny app: 1) a user-interface script (ui.R), and 2) a server script (server.R). The ui.R script controls the layout and appearance of your app. The server.R script contains the instructions that your computer needs to build your app, including loading any data and or doing any analysis or plotting etc that you want to do.See the tute for an example of each . Running a shiny app . As all Shiny apps have the same basic structure: two core R scripts saved together in a directory. The easiest way to run your app is to make a new directory and saving a ui.R and server.R file inside it. Each app will need its own unique directory. . You run a Shiny app by giving the name of its directory to the function runApp in R. For example if your Shiny app is in a directory called my_app, run it with the following code inside an R shell: . &gt; library(shiny) . &gt; runApp(&quot;my_app&quot;) . Sharing the Shiny - Hosting and Deployment . Up to this point everything you‚Äôve been doing is probably isolated on your own computer and not shareable or on the internet. You can, as I often do, just use these shiny apps as simple GUI interfaces to your analysis and share them with your friends on Git Hub or if you want to you can put your Shiny app on the web for your friends to use. To do this you can choose to deploy on your own R Shiny servers or use the RStudio Shiny hosting service for a small fee. . The PAM Processor App . This is a project that allows users to import their PAM fluorometer data into the R programming language and calculate photosynthetic parameters as per Platt et al 1980 and Ralph et al. . This code is brought to you by Rob Johnson, Simon Reeves, Shihong Lee, and Emma Flukes. We are (or were) PhD students at the University of Tasmania and we were fed up with the ridiculous amount of time and money it was taking to analyse PAM Rapid Light Curves using clunky and expensive stats software (copy‚Ä¶ paste‚Ä¶ copy‚Ä¶ paste‚Ä¶ SPSS‚Ä¶ boooo!). So, we built the PAM Processor! using the free and open stats scripting language R and the web application tool Shiny. . At the moment this is release v1.0 of the PAM Processor! as of June 2015 and it‚Äôs available for download here: https://github.com/RobTheOceanographer/pam_in_R/releases .",
            "url": "https://robtheoceanographer.com/markdown/2015/09/03/shiny.html",
            "relUrl": "/markdown/2015/09/03/shiny.html",
            "date": " ‚Ä¢ Sep 3, 2015"
        }
        
    
  
    
        ,"post16": {
            "title": "Art meets Science",
            "content": "ex Oceano - we are from the ocean - the ocean sustains us from Nick Roden on Vimeo. . Two years in the making and the ex Oceano symphony is out! . ex Oceano is a creative venture in sound ‚Äì a collaborative expression between disciplines and understandings. . The wonderful Nick Roden and I expressed our understanding of science to a composer - Matthew Dewey then the composer expressed that science back to us in sound ‚Äì by making a symphony. . This made for a way to generate a different experience of ocean science and promote understanding of the role of the ocean in supporting life. . For more info on ex Oceano visit http://www.lynchpin.org.au/our-projects/ex-oceano/ .",
            "url": "https://robtheoceanographer.com/markdown/2015/06/04/Lynchpin.html",
            "relUrl": "/markdown/2015/06/04/Lynchpin.html",
            "date": " ‚Ä¢ Jun 4, 2015"
        }
        
    
  
    
        ,"post17": {
            "title": "How to calibrate a Turner Fluorometer for phytoplankton Chlorophyll a",
            "content": "Chlorophyll a (chl) measurements are a useful estimate of algal biomass and have been used extensively for decades. Turner designs (http://www.turnerdesigns.com/ fluorometers are used extensively to quantify chl as they are fast, reliable, and relatively cheap. Nevertheless, errors can be introduced if the fluorometer isn‚Äôt calibrated with a commercially available chlorophyll a standard (e.g. crystallised Chlorophyll a from Anacystis nidulans algae from Sigma Chemical Company) regularly. The procedure described here is appropriate for algal chl in the marine environment. Scientists who employ this or other methods to measure pigments should make themselves aware of the issues that surround fluorescence based techniques and make appropriate decisions about the use of this technology for their application based on the scientific requirements and constraints of their individual programs. . How often? . If used in the laboratory your fluorometer should be calibrated every 6 months. If the fluorometer is to be taken into the field then it should be calibrated before and after each voyage/expedition. . Turner calibration . The method for calibrating a Turner fluorometer is quite straight forward and is well documented by Turner themselves. ‚Äì see this document for their 10-AU model. The part that is not often documented is how do you independently determine the concentration of your chlorophyll standard in order to do this calibration in the first place. That is what I hope to show you how to do here. . Spectophotometric estimation of chlorophyll concentrations . This is a brief method for estimating chlorophyll concentrations based on a samples spectral absorption, following Jeffrey and Humphrey 1975: . Make up solutions of varying chlorophyll concentrations in 100% acetone (see Jeffrey and Humphrey 1975 for info on other solvents). I usually make three (a low, middle, and high concentration) for doing a calibration run. | Using a UV/Vis spectrophotometer measure the absorption of your chlorophyll standard at 664nm, 647nm, 630nm, 750nm. I‚Äôll leave it up to you to work out how to make these measurements as all spectro‚Äôs have different software etc etc‚Ä¶ | Calculate the extinction coefficients at 664nm, at 647nm, and at 630nm using the following eq: | . . where x denotes the wavelength of interest (e.g. 664 or 647 or 630nm), A is the absorption value, and E is the resulting extinction coefficient. . Using these extinction coefficients calculate chlorophyll a concentration using equation 4 from Jeffrey and Humphrey 1975 as follows: . . where the resulting units are based on your abs measurement units but are likely to be ug/mL and so need to be converted to the more common ug/L. There are also equations for chl b and c should you be interested in them. . Now you know the chl concentration for each of your solutions you can now use this information to calibrate your Turner fluorometer. . Bibliography: . Jeffrey, SW T., and G. F. Humphrey. ‚ÄúNew spectrophotometric equations for determining chlorophylls a, b, c1 and c2 in higher plants, algae and natural phytoplankton.‚Äù Biochem Physiol Pflanz BPP (1975). PDF .",
            "url": "https://robtheoceanographer.com/markdown/2014/12/01/TurnerCalibration.html",
            "relUrl": "/markdown/2014/12/01/TurnerCalibration.html",
            "date": " ‚Ä¢ Dec 1, 2014"
        }
        
    
  

  
  

  
      ,"page1": {
          "title": "About Me",
          "content": "Rob Johnson is a jack-of-all trades, Doctor of Philosophy, data scientist, recovering oceanographer, doer and oddball. Described by a colleague as ‚Äú‚Ä¶good at turning data into insights. Rob communicates complex matters effectively and is comfortable saying ‚ÄòI don‚Äôt know, but I know how to find out‚Äô‚Äù, he also happens to be genuinely excited by scientific challenges and his passion motivates others to do their best. With a string of successful science projects under his belt, Rob has become known for his warm and engaging personality, authentic insights, and wealth of knowledge and experience that he applies to new challenges. Though all of this he has developed a great ‚ÄúBS‚Äù detector, which allows him to make progress where others get stuck. . . Rob currently works on aviation related data science problems: for example building state of the art nowcasts for lightning and thunderstorms, automating business process and optimising decision making for Terminal Aerodrome Forecasts (TAFS), and machine learning based weather nowcasting. Rob has worked on broad range of projects from measuring Antarctic Phytoplankton photo-physiology, algorithm development for space based remote sensing, weather modelling using machine learning and AI, to High Performance Computing system administration and data engineering for earth system modelling. . Being interested in all fields of science, and instantly memorable, speaks volumes about how Rob goes about life and represents himself to the world, believing wholeheartedly that science can be made useful through state of the art science being combined with advanced software engineering. . Rob lives in Hobart, Tasmania, Australia. .",
          "url": "https://robtheoceanographer.com/about/",
          "relUrl": "/about/",
          "date": ""
      }
      
  

  

  
      ,"page3": {
          "title": "Papers",
          "content": "Here is a list of my scientific publications for you to enjoy: . Nicole Hellessey, R. Johnson, J.A. Ericson, P.D. Nichols, S. Kawaguchi , S. Nicol, N. Hoem, and P. Virtue, ‚ÄúAntarctic Krill Lipid and Fatty acid Content Variability is associated to Satellite Derived Chlorophyll a and Sea Surface Temperatures‚Äù, 2019, Nature: Scientific Reports, 2020, doi:10.1038/s41598-020-62800-7. GetThePDF . | Nicholas Pittman, P.G. Strutton, R. Johnson, R.J. Matear, ‚ÄúAn assessment and improvement of satellite ocean color algorithms for the tropical Pacific Ocean‚Äù Journal of Geophysical Research: Oceans, 2019, doi:10.1029/2019JC015498. GetThePDF . | David Antoine, T. Schroeder, M. Slivkoff, W. Klonowski, M. Doblin, J. Lovell, D. Boadle, B. Baker, E. Botha, C. Robinson, E. King, P. Fearns, N. Hardman-Mountford, R. Johnson, N. Cherukuru, A. Dekker, T. Malthus, R. Mitchell, P. Thompson, P. Van Ruth, ‚ÄúFINAL REPORT: The IMOS ‚ÄúRadiometry Task Team‚Äù‚Äù, Integrated Marine Observing System, 2018. GetThePDF . | Allen Pope, P. Wagner, R. Johnson, J.D. Shutler, J. Baeseman, and L. Newman, ‚ÄúCommunity review of Southern Ocean satellite data needs‚Äù, Antarctic Science, 2016, DOI: 10.1017/S0954102016000390. GetThePDF . | Andrew Davidson, J. McKinlay, K. Westwood, P.G. Thomson, R. van den Enden, M. de Salas, R. Johnson, K. Berry, B. Tilbrook., ‚ÄúEnhanced CO2 concentrations change the structure and function of Antarctic marine microbial communities‚Äù Marine Ecology Progress Series, 2016. DOI: 10.3354/meps11742 GetThePDF . | Jake R. Wallis, K.M. Swadling, J.D. Everett, I.M. Suthers, H.J. Jones, P.J. Buchanan, C.M. Crawford, L.C. James, R. Johnson, K.M. Meiners, and P. Virtue., (2015) ‚ÄúZooplankton abundance and biomass size spectra in the East Antarctic sea-ice zone during the winter‚Äìspring transition.‚Äù Deep Sea Research Part II: Topical Studies in Oceanography. DOI:10.1016/j.dsr2.2015.10.002 GetThePDF . | Ruhi S. Humphries, R. Schofield, M.D. Keywood, J. Ward, J.R. Pierce, C.M. Gionfriddo, M.T. Tate, D.P. Krabbenhoft, I.E. Galbally, S.B. Molloy, A.R. Klekociuk, P.V. Johnston, K. Kreher, A.J. Thomas, A.D. Robinson, N.R.P. Harris, R. Johnson, and S.R. Wilson., (2015) ‚ÄúBoundary layer new particle formation over East Antarctic sea ice - possible Hg catalysed nucleation?‚Äù, Atmospheric Chemistry and Physics, DOI:10.5194/acp-15-13339-2015 GetThePDF . | Robert Johnson, P.G Strutton, S.W Wright, A McMinn, and K Meiners., (2013), ‚ÄúThree Improved Satellite Chlorophyll Algorithms for the Southern Ocean‚Äù, Journal of Geophysical Research ‚Äì Oceans, DOI:10.1002/jgrc.20270 GetThePDF . | Katherina Petrou, R. Hill, M.A. Doblin, A. McMinn, R. Johnson, S.W. Wright, and P.J. Ralph., (2011) ‚ÄúPhotoprotection of sea-ice microalgal communities from the east Antarctic‚Äù, Journal of Phycology, DOI:10.1111/j.1529-8817.2010.00944.x GetThePDF . | .",
          "url": "https://robtheoceanographer.com/papers/",
          "relUrl": "/papers/",
          "date": ""
      }
      
  

  
  

  

  
  

  

  
  

  
  

  

  
  

  
      ,"page12": {
          "title": "",
          "content": "Sitemap: {{ ‚Äúsitemap.xml‚Äù | absolute_url }} | .",
          "url": "https://robtheoceanographer.com/robots.txt",
          "relUrl": "/robots.txt",
          "date": ""
      }
      
  

}